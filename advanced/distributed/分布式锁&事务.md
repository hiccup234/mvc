
## 分布式锁

### MySQL实现

### Redis实现

### ZooKeeper实现


## 分布式事务

### 2PC
    数据库两阶段提交事务，prepare-confirm
    
### 3PC
    2PC的改进版本，分为CanCommit、PreCommit、DoCommit三个阶段

### TCC
   * TCC是一种比较成熟的分布式事务解决方案，可用于解决跨库操作的数据一致性问题；
   * TCC是服务化的两阶段编程模型，其Try、Confirm、Cancel 3个方法均由业务编码实现；
 
### 本地消息表
 

#### 2PC与TCC区别？
    TCC属于业务上的分段提交，Try，confirm，cancel都是对应的一段业务逻辑的操作，先预留资源，预留成功后进行确认，不成功就取消，
    例如转账先冻结资金，进行一系列的余额各方面的检查，发现符合条件就对账户对应的资金状态改为冻结，确认阶段修改状态为扣除，
    取消的话就把冻结的资金加回原账户，其对应的数据库的操作每段都是一个完整的事物；
 
    2PC是属于数据库层面的，先进行prepare，然后逐个进行commit或者rollback，不和具体业务逻辑挂钩，
 
    TCC的应用范围更广，不一定是事物关系数据库，也可能操作的KV数据库，文档数据库，粒度也可以随着具体业务灵活调整，性能更好。